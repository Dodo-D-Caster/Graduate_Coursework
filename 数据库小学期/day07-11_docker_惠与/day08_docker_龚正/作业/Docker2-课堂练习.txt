
vi eatcpu.sh

#! /bin/bash
i=0;
while true
do
i=i+1;
done


chmod +x eatcpu.sh

./eatcpu.sh


top


yum install libcgroup-tools

cgcreate -g cpu:/mylimit
ls /sys/fs/cgroup/cpu/mylimit/
cat /sys/fs/cgroup/cpu/mylimit/cpu.cfs_period_us
cat /sys/fs/cgroup/cpu/mylimit/cpu.cfs_quota_us
echo 50000 > /sys/fs/cgroup/cpu/mylimit/cpu.cfs_quota_us
cat /sys/fs/cgroup/cpu/mylimit/cpu.cfs_quota_us


echo 3022 >/sys/fs/cgroup/cpu/mylimit/tasks


cgdelete -g cpu:/mylimit


ps -ef | grep docker


docker run --net=none -it busybox sh
/ # ip a
